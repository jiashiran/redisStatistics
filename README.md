# redisStatistics
redis日志统计，统计redis某些操作的次数



配置说明：

| 字段          | 可选   | 描述                             | 例子                  |
| ----------- | ---- | ------------------------------ | ------------------- |
| host        | 必选   | redis地址                        | 172.16.203.193:6379 |
| options     | 必选   | 操作指令，多个用“,”区分                  | HGET,HSET           |
| ip          | 可选   | 请求来自哪些ip，多个用“,”区分，不配置统计所以来源    | 172.16.203.193      |
| index       | 可选   | 数据库索引，多个用“,”区分，不配置统计所以数据库      | 1,2,3,4,5,6,7,8     |
| regexp      | 可选   | 操作参数匹配的正则表达式，不配置统计所以           | dubbo               |
| saveToIndex | 可选   | 统计结果保存的redis数据库，不配置默认为0        | 2                   |
| httpPort    | 可选   | 控制打开或关闭监控的rest接口的端口，不配置默认为8080 |                     |



打开监控：

```
http://172.16.203.194:8080/start

```

关闭监控：

```
http://172.16.203.194:8080/stop

```

监控会将结果以json格式存入指定数据库中，key为“redis_statistics”

例：

```
[
  {
    "Dbindex": "8",
    "Ip": "",
    "Option": "HSET",
    "Count": "13"
  },
  {
    "Dbindex": "5",
    "Ip": "",
    "Option": "HSET",
    "Count": "3"
  }
]
```

